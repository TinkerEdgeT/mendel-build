build_file: "continuous-build/build/kokoro/continuous.sh"
gfile_resources: "/x20/teams/spacepark/enterprise/kokoro/prod/spacepark/enterprise/rootfs/latest/rootfs.raw.img"
gfile_resources: "/x20/teams/spacepark/enterprise/kokoro/prod/spacepark/enterprise/rootfs/latest/rootfs.raw.img.sha256sum"
gfile_resources: "/x20/teams/spacepark/enterprise/kokoro/prod/spacepark/enterprise/debs/apex.deb"
gfile_resources: "/x20/teams/spacepark/enterprise/kokoro/prod/spacepark/enterprise/docker/arm64-builder.tar"
gfile_resources: "/x20/teams/spacepark/enterprise/kokoro/prod/spacepark/enterprise/docker/aiy-board-builder.tar"
gfile_resources: "/x20/teams/spacepark/enterprise/kokoro/prod/spacepark/enterprise/pbuilder/base.tgz"
action {
  define_artifacts {
    regex: "boot.img"
    regex: "flash.sh"
    regex: "manifest.xml"
    regex: "sdcard.img"
    regex: "partition-table-*.img"
    regex: "rootfs.img"
    regex: "u-boot.imx"
    regex: "packages.tgz"
  }
}

before_action {
  invoke_blaze {
    name: "libedgetpu"
    command: BUILD
    targets: "//knowledge/cerebra/spacepark/darwinn:libedgetpu"
    flags: "--compilation_mode=opt"
    flags: "--config=loonix"
    flags: "--define='darwinn_chip=beagle'"
    flags: "--define='darwinn_io=PCI'"
    flags: "--cpu=arm"
    flags: "--compiler=llvm-libcxx"
  }
}
